<template>
  <NuxtLink
    :to="to"
    class="hover:bg-red-700 cursor-pointer rounded-xs py-1 flex items-center gap-2 overflow-hidden"
  >
    <div class="w-6 h-6 flex items-center justify-center shrink-0">
      <Icon v-if="icon" :name="icon" class="[&[data-icon='material-symbols:house-rounded']]:text-[28px] text-xl text-white" />
    </div>

    <span
      class="transition-all whitespace-nowrap duration-300 ease-in-out text-white"
      :class="expanded ? 'opacity-100 ml-1 w-auto' : 'opacity-0 ml-0 w-0 pointer-events-none'"
    >
      {{ label }}
    </span>
  </NuxtLink>
</template>

<script setup lang="ts">
import { useRoute } from 'vue-router'
import { computed } from 'vue'

const props = defineProps<{
  label: string
  icon?: string
  to: string
  expanded: boolean
}>()

const route = useRoute()
const isActive = computed(() => route.path === props.to)
// VocÃª pode usar isActive para adicionar estilos se quiser (ex: diferenciar item ativo)
</script>
